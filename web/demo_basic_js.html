<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns = "http://www.w3.org/1999/xhtml">
<head>
 <meta http-equiv="content-type" content="text/html; charset=utf-8" />
 <!-- midi.js package -->
 <script src="packages/tekartik_midi_js/js/audio_detect.js" type="text/javascript"></script>
 <!--<script src="packages/tekartik_midi_js/js/load_plugin.js" type="text/javascript"></script>-->
 <script src="packages/tekartik_midi_js/js/load_plugin.js" type="text/javascript"></script>
 <script src="packages/tekartik_midi_js/js/dom_loader.js" type="text/javascript"></script>
 <script src="packages/tekartik_midi_js/js/plugin.js" type="text/javascript"></script>
 <script src="packages/tekartik_midi_js/js/player.js" type="text/javascript"></script>
 <script src="packages/tekartik_midi_js/js/base64_binary.js" type="text/javascript"></script>
</head>
<body>
<script type="text/javascript">

window.onload = function () {
	MIDI.loadPlugin({
		soundfontUrl: "packages/tekartik_midi_js/soundfont/",
		instrument: "acoustic_grand_piano",
		api: "webaudio", // force webaudio
		targetFormat: "ogg", // force ogg
		callback: function() {
			var delay = 0; // play one note every quarter second
			var note = 50; // the MIDI note
			var velocity = 127; // how hard the note hits
			// play the note
			MIDI.setVolume(0, 127);
			MIDI.noteOn(0, note, velocity, delay);
			MIDI.noteOff(0, note, delay + 0.75);
		}
	});
};

</script>
</body>
</html>